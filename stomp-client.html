<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8" />
    <title>Crear Pedido por REST</title>
</head>
<body>
<h1>Enviar pedido desde HTML (vÃ­a REST)</h1>
<button onclick="enviarPedido()">ğŸ“¤ Enviar Pedido</button>

<script>
    function enviarPedido() {
        const pedido = {
            clienteId: "clienteHTML",
            local: "PizzerÃ­a Joel xD",
            latitudLocal: -12.042,
            longitudLocal: -77.029,
            destination: "Calle HTML 455",
            latitudDestino: -12.048,
            longitudDestino: -77.034,
            price: 45.5,
            descripcion: "Pizza grande HTML"
            // No necesitas estado ni fechaCreacion: eso lo pone el backend
        };

        fetch("http://192.168.18.9:8080/api/pedidos", {
            method: "POST",
            headers: {
                "Content-Type": "application/json"
            },
            body: JSON.stringify(pedido)
        })
            .then(response => {
                if (!response.ok) {
                    throw new Error("Error al crear el pedido");
                }
                return response.json();
            })
            .then(data => {
                console.log("âœ… Pedido creado exitosamente:", data);
                alert("âœ… Pedido enviado y notificado al repartidor");
            })
            .catch(error => {
                console.error("âŒ Error:", error);
                alert("âŒ Error al enviar el pedido");
            });
    }
</script>
</body>
</html>


